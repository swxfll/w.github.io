import{P as R,D as q,T as L}from"./TableOperationAreaButtonGroup-a5f06493.js";import{_ as H,k as J,l as f,b as K,m as Q,n as W,p as X,r as d,o as Y,c as Z,e,w as t,a as l,g as n,q as S,h as $,f as h,s as r,t as ee,v as te}from"./index-8d8776ad.js";import{S as oe,C as ne}from"./SearchOutlined-5d222807.js";const c=y=>(ee("data-v-e209148e"),y=y(),te(),y),le={class:"group-mgmt-view"},ae={class:"op-area"},se=c(()=>l("span",null,"按照指定条件进行搜索",-1)),ie=c(()=>l("span",null,"添加",-1)),de=c(()=>l("span",null,"删除选中条目",-1)),re=c(()=>l("span",null,"清空搜索条件",-1)),ce={style:{display:"flex",width:"100%",height:"100%","flex-direction":"column"}},ue={style:{width:"100%"}},pe=c(()=>l("div",{style:{"font-size":"12pt","font-weight":"bold"}},"名称",-1)),_e=c(()=>l("div",{style:{"font-size":"12pt","font-weight":"bold"}},"用途",-1)),ge={style:{display:"flex",width:"100%",height:"100%","justify-content":"flex-end","margin-top":"10px"}},fe={style:{display:"flex",width:"100%",height:"100%","flex-direction":"column"}},he={style:{width:"100%"}},me=c(()=>l("div",{style:{"font-size":"12pt","font-weight":"bold"}},"用途",-1)),ye={style:{display:"flex",width:"100%",height:"100%","justify-content":"flex-end","margin-top":"10px"}},ve=c(()=>l("div",{style:{width:"100%","min-height":"20px"}}," ",-1)),xe={__name:"GroupMgmtView",setup(y){const{proxy:B}=J(),C=f("");K(()=>{console.log("执行onMounted()..."),console.log("import.env.MODE","production"),B.$axios.get("/api/group/",{}).then(a=>{if(a.status===200){const o=a.data;if(o.code==="10000"){const p=o.data;let _=[];p.map(s=>{_.push({key:s.name,name:s.name,"create-time":s.ctime,usage:s.usage})}),M.value=_}}else console.error(a.status)}).catch(a=>{})});function D(){let a=C.value;B.$axios.get("/api/group/"+a,{}).then(o=>{if(o.status===200){const p=o.data;if(console.log("搜索事件执行成功"),p.code==="10000"){const _=p.data;let s=[];console.log("data",_),_.map(g=>{s.push({key:g.name,name:g.name,"create-time":g.ctime,usage:g.usage})}),console.log(s),M.value=s}}else console.error(o.status)}).catch(o=>{})}const V=Q(),A=W();let u=f(!1);function I(){u.value=!1}function U(){u.value=!1}function P(){V.warning({title:"批量删除",content:"即将删除 24 个条目, 是否继续?",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{A.success("删除成功")}})}let m=f(!1);function T(){m.value=!0}function O(){}function G(){}function N(){}let v=f(null);const j=f([{label:"全部",value:null},{label:"名称",value:"名称"},{label:"用途",value:"用途"}]);let M=f([]);const E=[{type:"selection",fixed:"left"},{title:"名称",key:"name",fixed:"left",width:250},{title:"创建时间",key:"create-time",width:200},{title:"用途",key:"usage",resizable:!0},{title:"操作",key:"op",render(a){return $(L,{isShowDetail:!1,isShowModify:!0,isShowDelete:!0,onDetailButtonClicked:()=>{},onModifyButtonClicked:()=>{u.value=!0},onDeleteButtonClicked:()=>{}})},fixed:"right",width:150}],x=X({page:2,pageSize:5,showSizePicker:!0,pageSizes:[3,5,7],onChange:a=>{x.page=a},onUpdatePageSize:a=>{x.pageSize=a,x.page=1}});return(a,o)=>{const p=d("n-breadcrumb-item"),_=d("n-breadcrumb"),s=d("n-page-header"),g=d("n-select"),w=d("n-input"),k=d("n-icon"),b=d("n-tooltip"),F=d("n-data-table"),z=d("n-modal");return Y(),Z("div",le,[e(s,null,{header:t(()=>[e(_,null,{default:t(()=>[e(p,null,{default:t(()=>[h("权限控制")]),_:1}),e(p,null,{default:t(()=>[h("组管理")]),_:1})]),_:1})]),_:1}),l("div",ae,[e(g,{value:n(v),"onUpdate:value":o[0]||(o[0]=i=>S(v)?v.value=i:v=i),options:j.value,placeholder:"选择检索条件",style:{width:"150px","margin-right":"5px"}},null,8,["value","options"]),e(w,{value:C.value,"onUpdate:value":o[1]||(o[1]=i=>C.value=i),type:"text",placeholder:"按照组名或者用途搜索,支持全文索引..."},null,8,["value"]),e(b,{trigger:"hover"},{trigger:t(()=>[e(n(r),{tertiary:"",circle:"",style:{"margin-left":"5px"},secondary:"",type:"info",onClick:D},{icon:t(()=>[e(k,null,{default:t(()=>[e(n(oe))]),_:1})]),_:1})]),default:t(()=>[se]),_:1}),e(b,{trigger:"hover"},{trigger:t(()=>[e(n(r),{tertiary:"",circle:"",style:{"margin-left":"5px"},secondary:"",type:"primary",onClick:T},{icon:t(()=>[e(k,null,{default:t(()=>[e(n(R))]),_:1})]),_:1})]),default:t(()=>[ie]),_:1}),e(b,{trigger:"hover"},{trigger:t(()=>[e(n(r),{tertiary:"",circle:"",style:{"margin-left":"5px"},secondary:"",type:"error",onClick:P},{icon:t(()=>[e(k,null,{default:t(()=>[e(n(q))]),_:1})]),_:1})]),default:t(()=>[de]),_:1}),e(b,{trigger:"hover"},{trigger:t(()=>[e(n(r),{tertiary:"",circle:"",style:{"margin-left":"5px"},secondary:"",type:"error"},{icon:t(()=>[e(k,null,{default:t(()=>[e(n(ne))]),_:1})]),_:1})]),default:t(()=>[re]),_:1})]),e(F,{columns:E,data:n(M),pagination:x,striped:""},null,8,["data","pagination"]),e(z,{show:n(m),"onUpdate:show":o[2]||(o[2]=i=>S(m)?m.value=i:m=i),segmented:!1,"mask-closable":!1,preset:"card",title:"添加群组","on-after-leave":O,style:{width:"45%","min-width":"600px"}},{default:t(()=>[l("div",ce,[l("div",ue,[pe,e(w,{type:"text",placeholder:"必填,请输入名称",style:{"margin-bottom":"10px"}}),_e,e(w,{type:"text",placeholder:"请输入用途"})]),l("div",ge,[e(n(r),{onClick:G,style:{"margin-right":"10px"}},{default:t(()=>[h("取消")]),_:1}),e(n(r),{onClick:N,type:"primary"},{default:t(()=>[h("添加")]),_:1})])])]),_:1},8,["show"]),e(z,{show:n(u),"onUpdate:show":o[3]||(o[3]=i=>S(u)?u.value=i:u=i),segmented:!1,"mask-closable":!1,preset:"card",title:"修改组","on-after-leave":O,style:{width:"45%","min-width":"600px"}},{default:t(()=>[l("div",fe,[l("div",he,[me,e(w,{type:"text",placeholder:"请输入用途"})]),l("div",ye,[e(n(r),{onClick:I,style:{"margin-right":"10px"}},{default:t(()=>[h("取消")]),_:1}),e(n(r),{onClick:U,type:"primary"},{default:t(()=>[h("添加")]),_:1})])])]),_:1},8,["show"]),ve])}}},Ce=H(xe,[["__scopeId","data-v-e209148e"]]);export{Ce as default};
